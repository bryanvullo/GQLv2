Graph tasks = ACCESS("./tasks.n4j")
Graph tasksCopy = tasks

tasks = tasks.CASE(
  identity.HAS("priority") AND identity.priority >> 8
)

THROUGH(DataPoint highPriorityTask : tasks) {
  THROUGH(DataPoint availableTask : tasksCopy) {
    CONDIF(availableTask.HAS("available") AND availableTask.available i== True) {
      availableTask - Association ^ highPriorityTask
    }
  }
}

STDOUT(tasksCopy)